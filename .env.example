# Example environment configuration for CLIProxyAPI + LibreChat
# Copy this file to `.env` and configure the variables you need.
#
# Usage:
#   cp .env.example .env
#   # Edit .env with your values
#   docker compose -f docker-compose.full.yml up -d

# ==============================================================================
# REQUIRED: CLIProxyAPI Configuration
# ==============================================================================

# API key for client authentication (required)
API_KEY=change-me-to-a-secure-key

# ==============================================================================
# RECOMMENDED: Management & Security
# ==============================================================================

# Management Web UI password (enables /management.html)
MANAGEMENT_PASSWORD=change-me-to-admin-password

# Allow remote access to management UI (set to false for localhost only)
MANAGEMENT_ALLOW_REMOTE=true

# User/Group IDs for LibreChat container (match your host user)
UID=1000
GID=1000

# ==============================================================================
# SECURITY KEYS (Generate for Production)
# ==============================================================================
# Generate with: openssl rand -hex 32
# Generate IV with: openssl rand -hex 16

# LibreChat credential encryption
CREDS_KEY=f34be427ebb29de8d88c107a71546019685ed8b241d8f2ed00c3df97ad2566f0
CREDS_IV=e2341419ec3dd3d19b13a1a87fafcbfb

# JWT secrets
JWT_SECRET=16f8c0ef4a5d391b26034086c628469d3f9f497f08163ab9b40137092f2909ef
JWT_REFRESH_SECRET=eaa5191f2914e30b9387fd84e254e4ba6fc51b4654968a9b0803b456a54b8418

# Meilisearch API key
MEILI_MASTER_KEY=DrhYf7zENyR6AlUCKmnz0eYASOQdl6zxH7s7MKFSfFCt

# ==============================================================================
# OPTIONAL: Server Configuration
# ==============================================================================

# CLIProxyAPI external port
EXTERNAL_PORT=8317

# LibreChat external port
LIBRECHAT_PORT=3080

# Enable debug logging
DEBUG=false

# Enable Prometheus metrics endpoint (/metrics)
METRICS_ENABLED=false

# Request retry attempts
REQUEST_RETRY=3

# Credential routing strategy: round-robin | fill-first
ROUTING_STRATEGY=round-robin

# Timezone
TZ=UTC

# ==============================================================================
# OPTIONAL: LibreChat Settings
# ==============================================================================

# Allow new user registration
ALLOW_REGISTRATION=true

# Enable search functionality
SEARCH=true

# Disable search engine indexing
NO_INDEX=true

# ==============================================================================
# OPTIONAL: Logging
# ==============================================================================

# Write logs to file instead of stdout
LOGGING_TO_FILE=false

# Enable usage statistics
USAGE_STATS=false

# ==============================================================================
# OPTIONAL: Postgres Token Store
# ==============================================================================
# PGSTORE_DSN=postgresql://user:pass@localhost:5432/cliproxy
# PGSTORE_SCHEMA=public
# PGSTORE_LOCAL_PATH=/var/lib/cliproxy

# ==============================================================================
# OPTIONAL: Git-Backed Config Store
# ==============================================================================
# GITSTORE_GIT_URL=https://github.com/your-org/cli-proxy-config.git
# GITSTORE_GIT_USERNAME=git-user
# GITSTORE_GIT_TOKEN=ghp_your_personal_access_token
# GITSTORE_LOCAL_PATH=/data/cliproxy/gitstore

# ==============================================================================
# OPTIONAL: Object Store Token Store
# ==============================================================================
# OBJECTSTORE_ENDPOINT=https://s3.your-cloud.example.com
# OBJECTSTORE_BUCKET=cli-proxy-config
# OBJECTSTORE_ACCESS_KEY=your_access_key
# OBJECTSTORE_SECRET_KEY=your_secret_key
# OBJECTSTORE_LOCAL_PATH=/data/cliproxy/objectstore
